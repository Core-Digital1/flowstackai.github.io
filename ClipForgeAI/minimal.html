<!DOCTYPE html>
<html lang="sl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ClipForge - FlowStack</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.1/fabric.min.js"></script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: #0f172a;
            color: white;
        }
    </style>
</head>

<body class="h-screen flex flex-col overflow-hidden">
    <header class="h-16 bg-gray-900 border-b border-gray-800 flex items-center justify-between px-6">
        <h1 class="font-bold text-xl bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent">
            ClipForge Editor (Minimal)</h1>
        <button onclick="exportCanvas()" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-sm">Export
            PNG</button>
    </header>

    <div class="flex-1 flex">
        <div class="w-64 bg-gray-900 border-r border-gray-800 p-4 space-y-4">
            <h3 class="text-sm font-bold text-gray-400">Tools</h3>
            <button onclick="addRect()" class="w-full p-2 bg-purple-600 rounded text-sm">Add Rectangle</button>
            <button onclick="addCircle()" class="w-full p-2 bg-pink-600 rounded text-sm">Add Circle</button>
            <button onclick="addText()" class="w-full p-2 bg-blue-600 rounded text-sm">Add Text</button>
        </div>

        <div class="flex-1 bg-gray-950 flex items-center justify-center p-8">
            <canvas id="canvas"></canvas>
        </div>

        <div class="w-64 bg-gray-900 border-l border-gray-800 p-4">
            <h3 class="text-sm font-bold text-gray-400 mb-4">Properties</h3>
            <div id="props" class="text-xs text-gray-500">Select an element</div>
        </div>
    </div>

    <script>
        let canvas;

        window.onload = () => {
            const container = document.querySelector('#canvas').parentElement;
            const h = container.clientHeight - 60;
            const w = h * (16 / 9);

            const el = document.getElementById('canvas');
            el.width = w;
            el.height = h;

            canvas = new fabric.Canvas('canvas', {
                width: w,
                height: h,
                backgroundColor: '#000000'
            });

            lucide.createIcons();
        };

        function addRect() {
            canvas.add(new fabric.Rect({ left: 100, top: 100, fill: '#8b5cf6', width: 150, height: 100 }));
        }

        function addCircle() {
            canvas.add(new fabric.Circle({ left: 150, top: 150, fill: '#ec4899', radius: 60 }));
        }

        function addText() {
            canvas.add(new fabric.IText('Edit me', { left: 100, top: 100, fill: '#ffffff', fontSize: 28 }));
        }

        function exportCanvas() {
            const link = document.createElement('a');
            link.download = 'export.png';
            link.href = canvas.toDataURL({ format: 'png' });
            link.click();
        }
    </script>
</body>

</html>